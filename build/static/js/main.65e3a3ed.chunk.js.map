{"version":3,"sources":["img/content/colleseum.jpg","img/content/madrid.jpg","img/content/vienna.jpg","img/content/london.jpg","User/User.js","NotificationProvider/NotificationProvider.js","NotificationProvider/useNotificationProvider.js","withHooks.js","Tile/Tile.js","DB.js","img/default-profile-picture.png","img/logo.png","SignIn/SignIn.js","MySnackbar.js","UserMenu/UserMenu.js","Nav/Nav.js","NewExperience/NewExperience.js","Search/Search.js","img/content/athens.jpg","Home/Home.js","DialogButton/DialogButton.js","decorators/restrictAccess.js","Experiences/Experiences.js","UserProfile/UserProfile.js","NewCollection/NewCollection.js","Footer/Footer.js","NotificationProvider/NotificationInterface.js","SearchResults/SearchResults.js","App.js","reportWebVitals.js","index.js"],"names":["UserAvatar","props","user","profileImg","className","style","backgroundColor","defaultAvatarColor","username","charAt","toUpperCase","src","alt","User","this","isWithUserCard","undefined","userCard","numberLikes","to","React","Component","NotificationProviderContext","createContext","snackbar","addSnackbar","removeSnackbar","confirmation","askForConfirmation","removeConfirmation","NotificationProvider","children","useState","setSnackbar","setConfirmation","contextValue","useCallback","severity","message","open","question","onConfirm","Provider","value","useNotificationProvider","useContext","withHooks","Tile","isPopupOpen","state","setState","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","handlePopupClose","likes","onClick","type","e","exp","id","img","h1","h2","Dialog","onClose","scroll","maxWidth","CloseButton","popupElement","render","CollectionTile","collection","generateGrid","experiences","map","Grid","item","xs","md","checkExpAndFill","db","name","selectOptions","getTopExpByUser","filter","addToColletion","expId","parseInt","document","querySelector","console","log","addToCollection","changeState","handleAddExperience","position","getUser","description","getCurrentUser","container","spacing","generatePopup","TagPill","Array","isArray","forEach","prop","Set","usefulLinks","tags","comments","InputWithSend","for","display","input","target","closest","postComment","ExpTile","isHeartPresent","dateToFullFormat","date","content","setTimeout","openSignInNeedSnackbar","likeExp","showHeart","deleteExp","link","href","i","length","push","generateComment","tag","likeHeart","infoTableRows","attr","label","slice","budget","from","notes","deleteButton","bind","onDoubleClick","handleImageDoubleClick","size","guestUser","email","deletedExp","country","city","documentation","transportation","accomodation","DB","appSetCurrentUser","colors","usersMap","Map","password","getRandomColor","topUsersList","currentUser","nextExpId","Madrid","Date","Rome","collections","updateUserLikesAmount","updateTopUsersList","setInterval","localStorage","setItem","JSON","stringify","alert","protoUsersMap","parse","getItem","protoExperiences","protoCollections","protoCurrentUser","protoNextExpId","get","comment","startup","sort","a","b","newUsersMap","amount","topExp","splice","Number","isInteger","resultExps","keyword","toLowerCase","Object","keys","val","String","includes","matchCounter","fieldsSet","author","location","loop1","j","getExpById","add","some","confirmPassword","has","isEmailAlreadyUsed","u","set","setCurrentUser","removeItem","newUser","index","Math","floor","random","userExps","getDate","toString","padStart","getMonth","getFullYear","getHours","getMinutes","isSignedIn","collectionId","collectionCopy","collectionTemplate","expsSet","userCollections","getCollection","isFormSignIn","preventDefault","n","signupUser","onFormSuccess","signInUser","setNavState","isSignInOpen","text","form","placeholder","onSignupSubmit","genSwitchButton","onSignInSubmit","MySnackbar","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","ClickAwayListenerProps","onClickAway","Alert","sx","width","isEditProfileOpen","mixedColors","newProfileImg","getValueByName","updateUser","ClickAwayListener","handleClickAway","handleEditProfile","handleSettings","handleSignOut","handleEditProfileClose","disabled","onChange","onColorChange","select","onProfileImgChange","onEditProfileSubmit","NavButton","picture","SignInButton","isUserMenuOpen","activeClassName","logoutUser","userPanel","userMenu","openSettings","loggedIn","path","element","Brand","generateMenuButton","generateSignInButton","handleSignInClose","Tags","tagPills","PillCheckbox","NewExperience","onFileChange","file","Promise","resolve","reject","reader","FileReader","onload","event","result","readAsDataURL","fileToDataUri","then","dataUri","mainImg","querySelectorAll","addExp","onMainImgChange","onSubmit","getInputValueByName","wrapperName","setInputValueByName","AdvancedOptions","useSearchParams","searchParams","navigate","useNavigate","useEffect","searchObject","checked","action","Search","advanced","setAdvanced","handleChange","onKeyPress","Home","Athens","Vienna","London","DialogButton","isNewExpOpen","callback","restrictAccess","UserRow","UserRanking","users","topUsers","WrappedComponent","interval","clearInterval","getTopExp","getTopUsers","NewCollection","addCollection","UserProfile","tabValue","newValue","params","viewedUser","topUserExp","getCollectionsByUser","Tabs","handleTabChange","TabIndicatorProps","textColor","color","classes","root","Tab","useParams","Footer","liAuthors","array","temp","shuffleArray","Logo","NotificationInterface","ConfirmationInterface","handleClose","DialogTitle","DialogContent","DialogContentText","DialogActions","SearchResults","getFilteredExps","first","counter","gridTiles","round","logo","Header","App","isDatabaseLoaded","loadFromLocalStorage","window","onbeforeunload","saveIntoLocalStorage","pageContent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.65e3a3ed.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/colleseum.9508f973.jpg\";","export default __webpack_public_path__ + \"static/media/madrid.34925a2b.jpg\";","export default __webpack_public_path__ + \"static/media/vienna.4dc4c94d.jpg\";","export default __webpack_public_path__ + \"static/media/london.425bc017.jpg\";","import React from \"react\";\r\nimport './User.css';\r\nimport { AiFillHeart } from \"react-icons/ai\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function UserAvatar(props) {\r\n  if (props.user.profileImg === \"\") {\r\n    return (\r\n      <span className=\"UserAvatar\" style={{backgroundColor: props.user.defaultAvatarColor}}>\r\n        <span>{props.user.username.charAt(0).toUpperCase()}</span>\r\n      </span>\r\n    );\r\n  }\r\n  else {\r\n    return (\r\n      <img className=\"UserAvatar\" src={props.user.profileImg} alt=\"User avatar\"/>\r\n    );\r\n  }\r\n}\r\n\r\nclass User extends React.Component {\r\n\r\n\r\n  render() {\r\n    let user = this.props.user;\r\n    let isWithUserCard = this.props.isWithUserCard === undefined ? true : false;\r\n    let userCard = \"\";\r\n    if (user === undefined) {\r\n      return <span>User undefined</span>;\r\n    }\r\n    if (isWithUserCard) {\r\n      userCard = (\r\n        <div className=\"User-card\">\r\n          <UserAvatar user={user}/>\r\n          <span>{user.username}</span>\r\n          <span><AiFillHeart/>{user.numberLikes}</span>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"User\">\r\n        <Link to={`/userProfile/${user.username}`}>\r\n          <span>\r\n            <UserAvatar user={user}/>\r\n            <span className=\"username\">{user.username}</span>\r\n          </span>\r\n          {userCard}\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default User","import React, { useState, useCallback } from 'react';\r\n\r\nexport const NotificationProviderContext = React.createContext({\r\n  snackbar: null,\r\n  addSnackbar: () => {},\r\n  removeSnackbar: () => {},\r\n  confirmation: null,\r\n  askForConfirmation: () => {},\r\n  removeConfirmation: () => {}\r\n});\r\n\r\nexport default function NotificationProvider({ children }) {\r\n  const [snackbar, setSnackbar] = useState(null);\r\n  const [confirmation, setConfirmation] = useState(null);\r\n\r\n  const removeSnackbar = (severity, message) => setSnackbar({ open: false, severity, message });\r\n\r\n  const addSnackbar = (severity, message) => setSnackbar({ open: true, severity, message });\r\n\r\n  const askForConfirmation = (question, onConfirm) => setConfirmation({open: true, question, onConfirm});\r\n\r\n  const removeConfirmation = () => setConfirmation({open: false});\r\n\r\n  const contextValue = {\r\n    snackbar,\r\n    addSnackbar: useCallback((severity, message) => addSnackbar(severity, message), []),\r\n    removeSnackbar: useCallback((severity, message) => removeSnackbar(severity, message), []),\r\n    confirmation,\r\n    askForConfirmation: useCallback((question, onConfirm) => askForConfirmation(question, onConfirm), []),\r\n    removeConfirmation: useCallback(() => removeConfirmation(), [])\r\n  };\r\n\r\n  return (\r\n    <NotificationProviderContext.Provider value={contextValue}>\r\n      {children}\r\n    </NotificationProviderContext.Provider>\r\n  );\r\n}","import { useContext } from 'react';\r\nimport { NotificationProviderContext } from './NotificationProvider';\r\n\r\nfunction useNotificationProvider() {\r\n  const { snackbar, addSnackbar, removeSnackbar, confirmation, askForConfirmation, removeConfirmation } = useContext(NotificationProviderContext);\r\n  return { snackbar, addSnackbar, removeSnackbar, confirmation, askForConfirmation, removeConfirmation };\r\n}\r\n\r\nexport function withNotificationProvider(Component) {\r\n  return function WrappedComponent(props) {\r\n    const { snackbar, addSnackbar, removeSnackbar, confirmation, askForConfirmation, removeConfirmation } = useNotificationProvider();\r\n    return <Component {...props} snackbar={snackbar} addSnackbar={addSnackbar} askForConfirmation={askForConfirmation} />;\r\n  }\r\n}\r\n\r\nexport default useNotificationProvider;","import useNotificationProvider from './NotificationProvider/useNotificationProvider';\r\n\r\nexport function withHooks(Component) {\r\n  return function WrappedComponent(props) {\r\n    const { snackbar, addSnackbar, removeSnackbar, confirmation, askForConfirmation, removeConfirmation } = useNotificationProvider();\r\n    return <Component {...props} snackbar={snackbar} addSnackbar={addSnackbar} askForConfirmation={askForConfirmation} />;\r\n  }\r\n}\r\n\r\nexport default withHooks;","import React from \"react\";\r\nimport '../common.css';\r\nimport '../NewExperience/NewExperience.css';\r\nimport \"./Tile.css\";\r\nimport {AiFillHeart} from 'react-icons/all'\r\nimport Dialog from '@mui/material/Dialog';\r\nimport User from \"../User/User\";\r\nimport { BsFillTrashFill } from \"react-icons/bs\";\r\nimport { IoSend } from \"react-icons/io5\";\r\nimport withHooks from \"../withHooks\";\r\nimport { Grid, useMediaQuery } from \"@mui/material\";\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { useState } from \"react\";\r\nimport useNotificationProvider from \"../NotificationProvider/useNotificationProvider\";\r\n\r\n/** class for the basic tile, is used mostly for experiences but also for collections, with two headings and a possible likes amount */\r\nexport function Tile(props){\r\n\tconst [state, setState] = useState({isPopupOpen: false});\r\n\tconst theme = useTheme();\r\n\tconst fullScreen = useMediaQuery(theme.breakpoints.down('md'));\r\n\r\n\tconst handlePopupClose = () => {\r\n\t\tsetState({isPopupOpen: false});\r\n\t}\r\n\r\n\tconst generatePopup = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<img src={props.img} alt={props.h1}></img>\r\n\t\t\t\t<h2>{props.h1}</h2>\r\n\t\t\t\t<div>{props.likes}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tconst render = () => {\r\n\t\tlet likes;\r\n\t\tif (props.likes !== undefined) {\r\n\t\t\tlikes = (\r\n\t\t\t\t<span className=\"Tile-likes\"><AiFillHeart/>{props.likes}</span>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div \r\n\t\t\t\tclassName=\"Tile\" \r\n\t\t\t\tonClick={props.type === \"withPopup\" ? \r\n\t\t\t\t((e) => {\r\n\t\t\t\t\tif (!state.isPopupOpen && props.exp.id !== \"\")\r\n\t\t\t\t\t\tsetState({isPopupOpen: true});\r\n\t\t\t\t}) \r\n\t\t\t\t: undefined}\r\n\t\t\t>\r\n\t\t\t\t<img src={props.img} alt={props.h1} className=\"Tile-img\"></img>\r\n\t\t\t\t<div className=\"h-wrapper\">\r\n\t\t\t\t\t<span className=\"Tile-h2\">{props.h2}</span>\r\n\t\t\t\t\t<span className=\"Tile-h1\">{props.h1}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{likes}\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\tfullScreen={fullScreen}\r\n\t\t\t\t\topen={state.isPopupOpen}\r\n\t\t\t\t\tonClose={handlePopupClose}\r\n\t\t\t\t\tscroll={'paper'}\r\n\t\t\t\t\t/*aria-labelledby=\"scroll-dialog-title\"\r\n\t\t\t\t\taria-describedby=\"scroll-dialog-description\"*/\r\n\t\t\t\t\tmaxWidth={props.maxWidth || \"lg\"}\r\n\t\t\t\t\tclassName=\"Tile-dialog\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<CloseButton handlePopupClose={handlePopupClose} />\r\n\t\t\t\t\t\t{props.popupElement !== undefined ? props.popupElement : generatePopup()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn render();\r\n}\r\n\r\nfunction CloseButton(props) {\r\n\treturn (\r\n\t\t<button className=\"CloseButton\" onClick={props.handlePopupClose}>x</button>\r\n\t);\r\n}\r\n\r\nexport function CollectionTile(props) {\r\n\tconst [state, setState] = useState({});\r\n\tconst {addSnackbar} = useNotificationProvider();\r\n\tlet collection = {\r\n\t\tid: -1,\r\n\t\tname: \"\",\r\n\t\timg: \"\",\r\n\t\tusername: \"\",\r\n\t\tdescription: \"\",\r\n\t\texperiences: []\r\n\t};\r\n\tcollection = {...props.collection};\r\n\r\n\tconst generateGrid = () => {\r\n\t\tlet expGrid = [];\r\n\t\texpGrid = collection?.experiences?.map( (exp) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<ExpTile exp={checkExpAndFill(exp)} db={props.db} />\r\n\t\t\t\t</Grid>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn expGrid;\r\n\t}\r\n\r\n\tconst handleAddExperience = () => {\r\n\t\tconst expId = parseInt(document.querySelector(\"select[name=select-experiences]\").value);\r\n\t\tconsole.log(collection.id);\r\n\t\tprops.db.addToCollection(expId, collection.id);\r\n\t\tsetState({changeState: true});\r\n\t\taddSnackbar(\"success\", \"Experience successfully added to the collection!\");\r\n\t}\r\n\r\n\tconst generatePopup = () => {\r\n\t\tlet selectOptions = props.db.getTopExpByUser(collection.username, -1)\r\n\t\t.filter((exp) => exp.id !== -1)\r\n\t\t.map( (exp) => {\r\n\t\t\treturn <option value={exp.id}>{exp.name}</option>\r\n\t\t});\r\n\r\n\t\tlet addToColletion = (\r\n\t\t\t<div className=\"addExpToCollection-wrapper\">\r\n\t\t\t\t<select name=\"select-experiences\" className=\"select-experiences\">\r\n\t\t\t\t\t{selectOptions}\r\n\t\t\t\t</select>\r\n\t\t\t\t<button className=\"button-primary\" onClick={(e) => handleAddExperience()} >Add experience</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"Tile-Dialog-flex CollectionTile\">\r\n\t\t\t\t<div className=\"img-wrapper\" style={{position: \"relative\"}}>\r\n\t\t\t\t\t<img className=\"main-img\" src={collection.img} alt={collection.h1 || \"No experience\"}></img>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t\t<h2>{collection.name}</h2>\r\n\t\t\t\t\t<User user={props.db.getUser(collection.username)}/>\r\n\t\t\t\t\t{/*deleteButton*/}\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>Description: </td>\r\n\t\t\t\t\t\t\t\t<td>{collection.description}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t{collection.username === props.db.getCurrentUser().username && addToColletion}\r\n\t\t\t\t\t<Grid container spacing={2} className=\"main-Grid-container\">\r\n\t\t\t\t\t\t{collection !== null && generateGrid()}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<Tile \r\n\t\t\ttype={(collection.id !== -1 && collection.id !== undefined) && \"withPopup\"}\r\n\t\t\timg={collection.img}\r\n\t\t\th1={collection.name} \r\n\t\t\th2={collection.username} \r\n\t\t\tpopupElement={generatePopup()}\r\n\t\t\texp={collection}\r\n\t\t\tmaxWidth = \"md\"\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction TagPill(props) {\r\n\treturn (\r\n\t\t<span className=\"TagPill\">{props.value}</span>\r\n\t);\r\n}\r\n\r\n/**checks the experience object and fills any missing attributes, used before passing it to the ExpTile or before passing it to the addExp DB function*/\r\nexport function checkExpAndFill(exp) {\r\n\tif (typeof exp !== 'object' ||\r\n\tArray.isArray(exp) ||\r\n\texp === null)\r\n\t{\t\r\n\t\texp = {};\r\n\t}\r\n\tlet propNames = [\"id\", \"name\", \"country\", \"city\", \"username\", \"description\", \"documentation\", \"budget\", \"transportation\", \"accomodation\"];\r\n\tpropNames.forEach( (prop) => {\r\n\t\tif (exp[prop] === undefined) {\r\n\t\t\texp[prop] = \"\";\r\n\t\t}\r\n\t})\r\n\tif (exp.likes === undefined || !exp.likes instanceof Set) {\r\n\t\texp.likes = new Set();\r\n\t}\r\n\tif (exp.usefulLinks === undefined || !Array.isArray(exp.usefulLinks)) {\r\n\t\texp.usefulLinks = [];\r\n\t}\r\n\tif (exp.tags === undefined || !Array.isArray(exp.tags)) {\r\n\t\texp.tags = [];\r\n\t}\r\n\tif (exp.comments === undefined || !Array.isArray(exp.comments)) {\r\n\t\texp.comments = [];\r\n\t}\r\n\treturn exp;\r\n}\r\n\r\n//generic input with a send/confirm button, used for comments and search\r\nexport function InputWithSend(props) {\r\n\treturn (\r\n\t\t<span className=\"input-with-send\">\r\n\t\t\t<label for=\"comment-experience\" style={{display: \"none\"}}>Comment experience</label>\r\n\t\t\t<input type=\"text\" className=\"main-search\" id=\"comment-experience\"/>\r\n\t\t\t<button \r\n\t\t\t\tonClick={ e => {\r\n\t\t\t\t\tlet input = e.target.closest(\".input-with-send\").querySelector(\"input\");\r\n\t\t\t\t\tprops.db.postComment(props.exp.id, input.value);\r\n\t\t\t\t\tinput.value = \"\";\r\n\t\t\t\t\tprops.setState({});\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<IoSend />\r\n\t\t\t\t<span style={{display: \"none\"}}>Post comment</span>\r\n\t\t\t</button>\r\n\t\t</span>\r\n\t);\r\n}\r\n\r\n/** adds a popup dialog to the Tile object, containing all the experience information */\r\nexport class ExpTile extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {isHeartPresent: false};\r\n\t}\r\n\r\n\tgenerateComment(props) {\r\n\t\treturn (\r\n\t\t\t<div className=\"Tile-Dialog-Comment\">\r\n\t\t\t\t<User user={this.props.db.getUser(props.username)}/>\r\n\t\t\t\t<span className=\"date\"> {this.props.db.dateToFullFormat(props.date)}</span>\r\n\t\t\t\t<p>{props.content}</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t/** displays a heart, used on doubleClick on the experience image */\r\n\tshowHeart() {\r\n\t\tthis.setState({isHeartPresent: true});\r\n\t\tsetTimeout((e) => this.setState({isHeartPresent: false}) , 3000);\r\n\t}\r\n\r\n\thandleImageDoubleClick() {\r\n\t\tif (this.props.db.getCurrentUser().username === \"Guest\") {\r\n\t\t\tthis.openSignInNeedSnackbar();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.db.likeExp(this.props.exp.id);\r\n\t\t\tthis.showHeart();\r\n\t\t}\r\n\t}\r\n\r\n\topenSignInNeedSnackbar() {\r\n\t\tconsole.log(this);\r\n\t\tthis.props.addSnackbar(\"error\", \"You have to sign in to perform that action.\");\r\n\t}\r\n\r\n\tdeleteExp() {\r\n\t\tthis.props.db.deleteExp(this.props.exp.id);\r\n\t\tthis.props.addSnackbar(\"success\", \"Deleted successfully!\");\r\n\t}\r\n\r\n\t/** the function for generating the experience popup used for displaying all information about an experience */\r\n\tgeneratePopup() {\r\n\t\tconst exp = this.props.exp;\r\n\t\tlet usefulLinks = exp.usefulLinks.map( (link) => {\r\n\t\t\treturn <span><a href={link}>{link}</a><br></br></span>\r\n\t\t});\r\n\t\tlet comments = [];\r\n\t\tfor (let i = exp.comments.length - 1; i >= 0; i--) {\r\n\t\t\tcomments.push(this.generateComment(exp.comments[i]));\r\n\t\t}\r\n\t\tlet tags = exp.tags.map( (tag) => {\r\n\t\t\treturn <TagPill value={tag}/>;\r\n\t\t});\r\n\t\tlet likeHeart = \"\";\r\n\t\tif (this.state.isHeartPresent)\r\n\t\t\tlikeHeart = <AiFillHeart className=\"big-heart\"/>\r\n\t\tlet attrNames = [\"country\", \"city\", \"description\", \"documentation\", \"budget\", \"transportation\", \"accomodation\", \"usefulLinks\", \"tags\"];\r\n\t\t//infoTable contains all information about the experience\r\n\t\tlet infoTableRows = attrNames.map( (attr) => {\r\n\t\t\t//makes the first letter capital\r\n\t\t\tlet label = attr.charAt(0).toUpperCase() + attr.slice(1);\r\n\t\t\tlet content = exp[attr];\r\n\t\t\tswitch (attr) {\r\n\t\t\t\tcase \"usefulLinks\":\r\n\t\t\t\t\tlabel = \"Useful links\";\r\n\t\t\t\t\tcontent = usefulLinks;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"budget\":\r\n\t\t\t\t\tcontent = <span>{exp.budget.from}-{exp.budget.to} Notes: {exp.budget.notes}</span>\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"tags\":\r\n\t\t\t\t\tcontent = tags;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>{label}: </td>\r\n\t\t\t\t\t<td>{content}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t\t});\r\n\t\tlet deleteButton = \"\";\r\n\t\tif (this.props.db.getCurrentUser().username === exp.username) {\r\n\t\t\tdeleteButton = <button className=\"delete-button\" onClick={(e) => this.props.askForConfirmation(\"Do you really want to delete experience: \\\"\" + exp.name + \"\\\"?\", this.deleteExp.bind(this))}><BsFillTrashFill /></button>\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"Tile-Dialog-flex\">\r\n\t\t\t\t<div className=\"Tile-Dialog-column-info\">\r\n\t\t\t\t\t<div style={{position: \"relative\"}}>\r\n\t\t\t\t\t\t<img className=\"main-img\" src={exp.img} alt={exp.name} onDoubleClick={(e) => this.handleImageDoubleClick()}></img>\r\n\t\t\t\t\t\t{likeHeart}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t\t\t<h2>{exp.name}</h2>\r\n\t\t\t\t\t\t<User user={this.props.db.getUser(exp.username)}/>\r\n\t\t\t\t\t\t<p><AiFillHeart/> {exp.likes.size}</p>\r\n\t\t\t\t\t\t{deleteButton}\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{infoTableRows}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"Tile-Dialog-column-comments\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h3>Comments</h3>\r\n\t\t\t\t\t\t{this.props.db.getCurrentUser().username !== \"Guest\" \r\n\t\t\t\t\t\t\t? <InputWithSend exp={exp} db={this.props.db} setState={this.setState.bind(this)}/> \r\n\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t\t{comments}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst exp = this.props.exp;\r\n\t\treturn (\r\n\t\t\t<Tile \r\n\t\t\t\ttype=\"withPopup\" \r\n\t\t\t\timg={exp.img} \r\n\t\t\t\th1={exp.name} \r\n\t\t\t\th2={exp.username} \r\n\t\t\t\tlikes={exp.likes.size}\r\n\t\t\t\tpopupElement={this.generatePopup()}\r\n\t\t\t\texp={exp}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withHooks(ExpTile);\r\n\r\n/*\r\n\r\n\t\t\t\t\t<p>Country: {exp.country}</p>\r\n\t\t\t\t\t<p>City: {exp.city}</p>\r\n\t\t\t\t\t<p>Documentation: {exp.documentation}</p>\r\n\t\t\t\t\t<p>Budget: {exp.budget.from}-{exp.budget.to} Notes: {exp.budget.notes}</p>\r\n\t\t\t\t\t<p>Transportation: {exp.transportation}</p>\r\n\t\t\t\t\t<p>Accomodation: {exp.accomodation}</p>\r\n\t\t\t\t\t<p>Useful links: {usefulLinks}</p>\r\n*/","import Rome from \"./img/content/colleseum.jpg\";\r\nimport Madrid from \"./img/content/madrid.jpg\";\r\nimport Vienna from \"./img/content/vienna.jpg\";\r\nimport London from \"./img/content/london.jpg\";\r\n\r\nimport profileImg from \"./img/default-profile-picture.png\"\r\nimport {checkExpAndFill} from \"./Tile/Tile\";\r\n\r\nconst guestUser = {username: \"Guest\", email: \"none\", profileImg: profileImg, numberLikes: 0};\r\n/** A placeholder for a deleted exp, they do not get deleted because it would mess up their array index which is bound to the id */\r\nconst deletedExp = {\r\n    id: -1,\r\n    name: \"\",\r\n    img: \"\",\r\n    country: \"\",\r\n    city: \"\", \r\n    username: \"\",\r\n    description: \".\",\r\n    likes: new Set([\"\"]),\r\n    documentation: \"\",\r\n    budget: {from: -1, to: -1, notes: \"\"},\r\n    transportation: \"\",\r\n    accomodation: \"\",\r\n    usefulLinks: [],\r\n    tags: [],\r\n    comments: []\r\n};\r\n\r\n/**Main fake database class used for any data related operarions*/\r\nclass DB {\r\n    /**possible defaultAvatarColors when user creates a new account*/\r\n    colors = [\"abdee6\", \"cbaacb\", \"ffffb5\", \"ffccb60\", \"f3b0c3\", \"fee1e8\", \"fed7c3\", \"ecd5e3\", \"d4f0f0\", \"cce2cb\", \"b6cfb6\", \"97c1a9\", \"a2e1db\"];\r\n\r\n    /** possible tags for experiences */\r\n    static tags = [\"cultural\", \"rural\", \"historical\", \"business\", \"environmental\", \"eco-tourism\"];\r\n\r\n    //all users stored in a map\r\n    usersMap = new Map([\r\n        [\"kingkong\", {username: \"kingkong\", email: \"kingkong@gmail.comm\", password: \"p\", defaultAvatarColor: this.getRandomColor(), profileImg: \"\", numberLikes: 0}],\r\n        [\"godzilla\", {username: \"godzilla\", email: \"gzilla@gmail.comm\", password: \"p\", defaultAvatarColor: this.getRandomColor(), profileImg: \"\", numberLikes: 0}],\r\n        [\"charlie\", {username: \"charlie\", email: \"ch.arlie@gmail.comm\", password: \"p\", defaultAvatarColor: this.getRandomColor(), profileImg: \"\", numberLikes: 0}],\r\n        [\"boris\", {username: \"boris\", email: \"boris.sluklov@gmail.comm\", password: \"p\", defaultAvatarColor: this.getRandomColor(), profileImg: \"\", numberLikes: 0}]\r\n    ]);\r\n\r\n    //top users based on aggregate amount of likes among their experiecnes\r\n    topUsersList = [];\r\n\r\n    //currently logged in user\r\n    currentUser = guestUser;\r\n\r\n    //next experience it to be added in the experiences array\r\n    nextExpId = 2;\r\n\r\n    //storage array for experiences, ids match the indexes, so the search speed i O(1)\r\n    experiences = [\r\n        {\r\n            id: 0,\r\n            name: \"Erasmus in Madrid\",\r\n            img: Madrid,\r\n            country: \"Spain\",\r\n            city: \"Madrid\", \r\n            username: \"kingkong\",\r\n            description: \"A whole semester spent in the city of liberty in Europe.\",\r\n            likes: new Set([\"godzilla\", \"charlie\", \"boris\"]),\r\n            documentation: \"ID for EU Citizens\",\r\n            budget: {from: 600, to: 800, notes: \"Accomodation can be costly.\"},\r\n            transportation: \"Metro is very good\",\r\n            accomodation: \"Nice\",\r\n            usefulLinks: [\"spain.com\", \"madrid.es\"],\r\n            tags: [\"cultural\", \"rural\", \"historical\", \"business\"],\r\n            comments: [\r\n                {username: \"godzilla\", date: new Date(\"2021-11-14 21:56:48\"), content: \"Yo bro, very cool trip bro, wassup btw how ya doin bro, yo cool?\"}, \r\n                {username: \"boris\", date: new Date(\"2021-11-15 15:01:03\"), content: \"Hello broder, gud to see you.\"}\r\n            ]\r\n        },\r\n        {\r\n            id: 1,\r\n            name: \"A trip to Rome\",\r\n            img: Rome,\r\n            country: \"Italy\",\r\n            city: \"Rome\", \r\n            username: \"godzilla\",\r\n            description: \"A week long trip to Rome, we saw many cool places, it was amazing.\",\r\n            likes: new Set([\"godzilla\", \"charlie\", \"boris\"]),\r\n            documentation: \"ID for EU Citizens\",\r\n            budget: {from: 600, to: 800, notes: \"Accomodation can be costly.\"},\r\n            transportation: \"Metro is available as well as okay buses.\",\r\n            accomodation: \"Cheap on the outskirst but also dirty surroundings\",\r\n            usefulLinks: [\"italy.com\", \"rome.it\"],\r\n            tags: [\"cultural\", \"historical\"],\r\n            comments: [\r\n                {username: \"kingkong\", date: new Date(\"2021-11-17 21:40:32\"), content: \"Hi so did you like it bro?\"}\r\n            ]\r\n        }\r\n\r\n    ]\r\n\r\n    //collections storage\r\n    collections = [\r\n        /*{\r\n            id: 0,\r\n            name: \"\",\r\n            img: \"\",\r\n            username: \"\",\r\n            description: \"\",\r\n            experiences: [0]\r\n        }*/\r\n    ]\r\n\r\n    //appSetCurrentUser is a function in the App Component, calling this function notifies the whole app of user change\r\n    constructor(appSetCurrentUser) {\r\n        this.appSetCurrentUser = appSetCurrentUser;\r\n    }\r\n\r\n    /**sets timers for recalculating users likes amount and updating the top users table*/\r\n    startup() {\r\n        this.updateUserLikesAmount();\r\n        this.updateTopUsersList();\r\n        setInterval(this.updateUserLikesAmount.bind(this), 0.2 * 60 * 1000);\r\n        setInterval(this.updateTopUsersList.bind(this), 0.2 * 60 * 1000); //every 3 minutes, in ms\r\n    }\r\n\r\n    setAppSetCurrentUser(appSetCurrentUser) {\r\n        this.appSetCurrentUser = appSetCurrentUser;\r\n    }\r\n\r\n    /**saves all data to local storage*/\r\n    saveIntoLocalStorage() {\r\n        this.experiences.forEach((exp) => {\r\n            exp.likes = Array.from(exp.likes);\r\n        });\r\n        localStorage.setItem(\"usersMap\", JSON.stringify([...this.usersMap]));\r\n        localStorage.setItem(\"experiences\", JSON.stringify(this.experiences));\r\n        localStorage.setItem(\"collections\", JSON.stringify(this.collections));\r\n        localStorage.setItem(\"currentUser\", JSON.stringify(this.currentUser));\r\n        localStorage.setItem(\"nextExpId\", JSON.stringify(this.nextExpId));\r\n        alert(\"Database saved!\");\r\n    }\r\n\r\n    /**loads from local storage*/\r\n    loadFromLocalStorage() {\r\n        let protoUsersMap = new Map(JSON.parse(localStorage.getItem(\"usersMap\")));\r\n        let protoExperiences = JSON.parse(localStorage.getItem(\"experiences\"));\r\n        let protoCollections = JSON.parse(localStorage.getItem(\"collections\"));\r\n        let protoCurrentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n        let protoNextExpId = JSON.parse(localStorage.getItem(\"nextExpId\"));\r\n\r\n        if (protoUsersMap.get(\"kingkong\") !== undefined) {\r\n            this.usersMap = protoUsersMap;\r\n        }\r\n        if (protoExperiences !== null) {\r\n            this.experiences = protoExperiences;\r\n            this.experiences.forEach((exp) => {\r\n                exp.likes = new Set(exp.likes);\r\n                exp.comments.forEach( (comment) => {\r\n                    comment.date = new Date(comment.date);\r\n                });\r\n            });\r\n        }\r\n        if (protoCollections !== null)\r\n            this.collections = protoCollections;\r\n        if (protoCurrentUser !== null)\r\n            this.currentUser = protoCurrentUser;\r\n        if (protoNextExpId !== null)\r\n            this.nextExpId = protoNextExpId;\r\n\r\n        console.log(\"Database loaded.\");\r\n        console.log(this.experiences);\r\n        console.log(this.collections);\r\n        console.log(this.usersMap);\r\n        console.log(this.currentUser);\r\n        console.log(this.nextExpId);\r\n\r\n        this.startup(); //IMPORTANT\r\n    }\r\n\r\n    /**updates top users list, triggered by the timer in function startup()*/\r\n    updateTopUsersList() {\r\n        this.topUsersList = [];\r\n        this.usersMap.forEach( (user) => {\r\n            this.topUsersList.push(user);\r\n        });\r\n        this.topUsersList.sort((a, b) => b.numberLikes - a.numberLikes);\r\n        this.topUsersList = this.topUsersList.slice(0, 10);\r\n    }\r\n\r\n    /**updates users likes amount, triggered by the timer in function startup()*/\r\n    updateUserLikesAmount() {\r\n        let newUsersMap = new Map(this.usersMap);\r\n        newUsersMap.forEach( (user) => {\r\n            user.numberLikes = 0;\r\n        });\r\n        this.experiences.forEach( (exp) => {\r\n            let user = newUsersMap.get(exp.username)\r\n            if (user !== undefined)\r\n                user.numberLikes += exp.likes.size;\r\n        });\r\n        this.usersMap = newUsersMap;\r\n    }\r\n\r\n    isSignedIn() {\r\n        return this.getCurrentUser().username !== \"Guest\";\r\n    }\r\n\r\n    getTopUsers() {\r\n        return this.topUsersList;\r\n    }\r\n\r\n    /**get a by amount specified number of experiences with the most likes */\r\n    getTopExp(amount) {\r\n        let topExp = [...this.experiences];\r\n        for (let i = 0; i < topExp.length; i++) {\r\n            if (topExp[i].id === -1)\r\n                topExp.splice(i, 1);\r\n        }\r\n        topExp.sort((a, b) => b.likes.size - a.likes.size);\r\n        topExp = topExp.slice(0, amount);\r\n        return topExp;\r\n    }\r\n\r\n    getExpById(id) {\r\n        let exp = {};\r\n        /*this.experiences.some( (e) => {\r\n            if (e.id === id) {\r\n                exp = e;\r\n                return true;\r\n            }\r\n            return false;\r\n        });*/\r\n        if (Number.isInteger(id) && id < this.experiences.length)\r\n            exp = this.experiences[id];\r\n        if (exp?.id === -1)\r\n            return null;\r\n        return exp;\r\n    }\r\n\r\n    /**used by search, returns experiences array based on filter parameters*/\r\n    getFilteredExps(filter) {\r\n        if (filter === null) {\r\n            return;\r\n        }\r\n        let resultExps = [];\r\n        if (filter.keyword !== undefined && filter.keyword !== null) {\r\n            //a simple filter, checks every string attribute of each experience for a match of the keyword\r\n            let keyword = filter.keyword.toLowerCase();\r\n            this.experiences.forEach((exp) => {\r\n                for (const key of Object.keys(exp)) {\r\n                    const val = exp[key];\r\n                    if (typeof val === 'string' || val instanceof String) {\r\n                        if (val.toLowerCase().includes(keyword)) {\r\n                            exp.id !== -1 && resultExps.push(exp);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            //the advanced filter, the resulting exps match all the set filter attributes\r\n            let matchCounter = 0;\r\n            let fieldsSet = 0;\r\n            filter.name !== \"\" && fieldsSet++;\r\n            filter.author !== \"\" && fieldsSet++;\r\n            filter.location !== \"\" && fieldsSet++;\r\n            filter.tags.length !== 0 && fieldsSet++;\r\n\r\n            this.experiences.forEach((exp) => {\r\n                matchCounter = 0;\r\n                if (exp.name.toLowerCase().includes(filter.name.toLowerCase()) && filter.name !== \"\")\r\n                    matchCounter++;\r\n                if (exp.username.toLowerCase().includes(filter.author.toLowerCase()) && filter.author !== \"\")\r\n                    matchCounter++;\r\n                if ((exp.city.toLowerCase().includes(filter.location.toLowerCase()) && filter.location !== \"\") || \r\n                    (exp.country.toLowerCase().includes(filter.location.toLowerCase()) && filter.location !== \"\"))\r\n                    matchCounter++;\r\n                //check for tags match\r\n                loop1:\r\n                for (let i = 0; i < filter.tags.length; i++) {\r\n                    const tag = filter.tags[i];\r\n                    for (let j = 0; j < exp.tags.length; j++) {\r\n                        const expTag = exp.tags[j];\r\n                        if (tag === expTag) {\r\n                            matchCounter++;\r\n                            break loop1;\r\n                        }\r\n                    }\r\n                }\r\n                exp.id !== -1 && matchCounter === fieldsSet && resultExps.push(exp);\r\n            });\r\n        }\r\n        return resultExps;\r\n    }\r\n\r\n    addExp(exp) {\r\n        checkExpAndFill(exp);\r\n        console.log(exp);\r\n        exp.id = this.nextExpId++;\r\n        if (exp !== undefined)\r\n            this.experiences.push(exp);\r\n    }\r\n\r\n    deleteExp(id) {\r\n        let exp = this.experiences[id];\r\n        if (exp.id === id && exp.username === this.currentUser.username) {\r\n            this.experiences[id] = deletedExp;\r\n        }\r\n    }\r\n\r\n    likeExp(id) {\r\n        let exp = this.getExpById(id);\r\n        let username;\r\n        if ((username = this.getCurrentUser().username) !== \"Guest\") {\r\n            exp.likes.add(username);\r\n        }\r\n        console.log(exp.likes);\r\n    }\r\n\r\n    /**signs up a new user*/\r\n    signupUser(user) {\r\n        let indexes = [\"username\", \"email\", \"password\", \"confirmPassword\"];\r\n        //checks for user object missing data, array function some returns true and breaks only if true is returned inside the function\r\n        if (indexes.some( (i) => { \r\n            if (user[i]===undefined || user[i] === \"\") \r\n                return true; \r\n            else return false}) === true)\r\n        {\r\n            return \"Missing user data.\";\r\n        }\r\n        if (user.password !== user.confirmPassword) {\r\n            return \"Passwords do not match.\";\r\n        }\r\n        delete user.confirmPassword;\r\n        if (this.usersMap.has(user.username))\r\n            return \"Username already taken.\";\r\n        let isEmailAlreadyUsed = false;\r\n        this.usersMap.forEach( (u) => {\r\n            if (u.email === user.email) {\r\n                isEmailAlreadyUsed = true;\r\n            }\r\n        });\r\n        if (isEmailAlreadyUsed === true) {\r\n            return \"Email is already used.\";\r\n        }\r\n        user.numberLikes = 0;\r\n        user.profileImg = \"\";\r\n        user.defaultAvatarColor = this.getRandomColor();\r\n        this.usersMap.set(user.username, user);\r\n        return \"\";\r\n    }\r\n\r\n    signInUser(username, password) {\r\n        let user = this.getUser(username);\r\n        if (user === undefined)\r\n            return null;\r\n        if (user.password === password) {\r\n            this.setCurrentUser(user);\r\n            return user;\r\n        }\r\n        else \r\n            return null;\r\n    }\r\n\r\n    logoutUser() {\r\n        this.setCurrentUser(guestUser);\r\n        localStorage.removeItem(\"currentUser\");\r\n    }\r\n\r\n    getUser(username) {\r\n        return this.usersMap.get(username);\r\n    }\r\n\r\n    setCurrentUser(newUser) {\r\n        this.currentUser = newUser;\r\n        this.appSetCurrentUser(this.currentUser);\r\n    }\r\n\r\n    getCurrentUser() {\r\n        return this.currentUser;\r\n    }\r\n\r\n    /** gets a random color from the colors array */\r\n    getRandomColor() {\r\n        let index = Math.floor(Math.random() * this.colors.length);\r\n        return \"#\"+this.colors[index];\r\n    }\r\n\r\n    updateUser(user) {\r\n        this.usersMap.set(user.username, user);\r\n        if (this.getCurrentUser().username === user.username);\r\n            this.setCurrentUser(user);\r\n    }\r\n\r\n    getTopExpByUser(username, amount) {\r\n        let userExps = [];\r\n        this.experiences.forEach( (exp) => {\r\n            if (exp.username === username) {\r\n                userExps.push(exp);\r\n            }\r\n        });\r\n        userExps.sort((a, b) => b.likes.size - a.likes.size);\r\n        if (amount !== -1)\r\n            userExps = userExps.slice(0, amount);\r\n        return userExps;\r\n    }\r\n\r\n    dateToFullFormat(date) {\r\n        if (!date instanceof Date)\r\n            return \"\";\r\n        return date.getDate().toString().padStart(2, '0')  + \"-\" + (date.getMonth()+1).toString().padStart(2, '0') + \"-\" + date.getFullYear().toString().padStart(2, '0') + \" \" + date.getHours().toString().padStart(2, '0') + \":\" + date.getMinutes().toString().padStart(2, '0');\r\n    }\r\n\r\n    postComment(expId, content) {\r\n        if (!this.isSignedIn())\r\n            return;\r\n        let exp = this.getExpById(expId);\r\n        exp.comments.push({username: this.getCurrentUser().username, date: new Date(), content: content});\r\n    }\r\n\r\n    getCollection(collectionId) {\r\n        if (collectionId >= this.collections.length)\r\n            return null;\r\n        const collection = this.collections[collectionId].id === collectionId ? this.collections[collectionId] : null;\r\n        if (collection === null) {\r\n            return null;\r\n        }\r\n        if (collection.experiences === undefined)\r\n            collection.experiences = [];\r\n        let collectionCopy = {...collection};\r\n        collectionCopy.experiences = collection?.experiences.map( (expId) => {\r\n            return this.experiences[expId];\r\n        });\r\n        return collectionCopy;\r\n    }\r\n\r\n    addCollection(collection) {\r\n        if (collection.username !== this.getCurrentUser().username)\r\n            return;\r\n        let collectionTemplate = {\r\n            id: -1,\r\n            name: \"\",\r\n            img: \"\",\r\n            username: \"\",\r\n            description: \"\",\r\n            experiences: []\r\n        };\r\n        collectionTemplate = {...collection};\r\n        collectionTemplate.id = this.collections.length;\r\n        this.collections.push(collectionTemplate);\r\n    }\r\n\r\n    addToCollection(expId, collectionId) {\r\n        if (expId === undefined || expId === null || collectionId === undefined || collectionId === null)\r\n            return;\r\n        let exp = this.getExpById(expId);\r\n        let collection = this.collections[collectionId];\r\n        if (exp.username === collection.username && exp.username === this.getCurrentUser().username) {\r\n            collection.experiences.push(expId);\r\n            let expsSet = new Set(collection.experiences);\r\n            collection.experiences = Array.from(expsSet);\r\n        }\r\n    }\r\n\r\n    getCollectionsByUser(username, amount) {\r\n        let userCollections = [];\r\n        for (let i = 0; i < this.collections.length; i++) {\r\n            if (this.collections[i].username === username)\r\n                userCollections.push(this.getCollection(i));\r\n        }\r\n        //userCollections.sort((a, b) => b.likes.size - a.likes.size);\r\n        if (amount !== -1)\r\n            userCollections = userCollections.slice(0, amount);\r\n        return userCollections;\r\n    }\r\n}\r\n\r\nexport default DB;\r\n\r\n/*\r\n\r\n            this.experiences.forEach((exp) => {\r\n                if ((exp.name.toLowerCase().includes(filter.name.toLowerCase()) && filter.name !== \"\") ||\r\n                    (exp.username.toLowerCase().includes(filter.author.toLowerCase()) && filter.author !== \"\") ||\r\n                    (exp.city.toLowerCase().includes(filter.location.toLowerCase()) && filter.location !== \"\") ||\r\n                    (exp.country.toLowerCase().includes(filter.location.toLowerCase()) && filter.location !== \"\") ) \r\n                {\r\n                    exp.id !== -1 && resultExps.push(exp);\r\n                }\r\n                else {\r\n                    loop1:\r\n                    for (let i = 0; i < filter.tags.length; i++) {\r\n                        const tag = filter.tags[i];\r\n                        for (let j = 0; j < exp.tags.length; j++) {\r\n                            const expTag = exp.tags[j];\r\n                            if (tag === expTag) {\r\n                                exp.id !== -1 && resultExps.push(exp);\r\n                                break loop1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n*/","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/logo.df69d295.png\";","import React from 'react';\r\nimport '../common.css';\r\nimport './SignIn.css';\r\nimport withHooks from '../withHooks';\r\n\r\nclass SignIn extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {isFormSignIn: true};\r\n\t}\r\n\r\n\tonSignupSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tlet names = [\"username\", \"email\", \"password\", \"confirmPassword\"];\r\n\t\tlet user = {};\r\n\t\tnames.forEach( (n) => {\r\n\t\t\tuser[n] = document.querySelector(\".SignIn input[name=\" + n + \"]\")?.value;\r\n\t\t});\r\n\t\tlet message;\r\n\t\tif ((message = this.props.db.signupUser(user)) === \"\") {\r\n\t\t\tthis.props.addSnackbar(\"success\", \"Sign in successfull!\");\r\n\t\t\tthis.onFormSuccess();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.addSnackbar(\"error\", message);\r\n\t\t}\r\n\t}\r\n\r\n\tonSignInSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tlet username, password = \"\";\r\n\t\tusername = document.querySelector(\".SignIn input[name=username]\")?.value;\r\n\t\tpassword = document.querySelector(\".SignIn input[name=password]\")?.value;\r\n\t\tlet user;\r\n\t\tif ((user = this.props.db.signInUser(username, password)) !== null) {\r\n\t\t\tthis.props.addSnackbar(\"success\", \"Welcome back, \" + user?.username + \"!\");\r\n\t\t\tthis.onFormSuccess();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.addSnackbar(\"error\", \"Sign in unsuccessful.\");\r\n\t\t}\r\n\t}\r\n\r\n\tonFormSuccess() {\r\n\t\tthis.props.setNavState({isSignInOpen: false});\r\n\t}\r\n\r\n\tgenSwitchButton(text) {\r\n\t\treturn (\r\n\t\t\t<button \r\n\t\t\tclassName=\"button-switch-forms\" \r\n\t\t\tonClick={() => this.setState({isFormSignIn: !this.state.isFormSignIn})}\r\n\t\t\t>\r\n\t\t\t\t{text}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n\r\n  render() {\r\n\t\tlet form;\r\n\t\tif (this.state.isFormSignIn === false) {\r\n\t\t\tform = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>Sign up</h2>\r\n\t\t\t\t\t<span className=\"under-headline\">Save all your favorite experiences!</span>\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t<label for=\"signupUsername\">Username</label>\r\n\t\t\t\t\t\t\t<input id=\"signupUsername\" name=\"username\" placeholder=\"Username\"/>\r\n\t\t\t\t\t\t\t<label for=\"signupEmail\">Email</label>\r\n\t\t\t\t\t\t\t<input id=\"signupEmail\" name=\"email\" placeholder=\"Email\" />\r\n\t\t\t\t\t\t\t<label for=\"signupPassword\">Password</label>\r\n\t\t\t\t\t\t\t<input id=\"signupPassword\" type=\"password\" name=\"password\" placeholder=\"Password\" />\r\n\t\t\t\t\t\t\t<label for=\"signupConfirmPassword\">Confirm password</label>\r\n\t\t\t\t\t\t\t<input id=\"signupConfirmPassword\" type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm password\" />\r\n\t\t\t\t\t\t\t<button className=\"button-submit\" onClick={this.onSignupSubmit.bind(this)}>Sign up</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<span>Already have an account?{this.genSwitchButton(\"Sign in\")}</span>\r\n\t\t\t\t\t<span className=\"disclaimer\">By signing up you agree to our<br/>Terms {'&'} Conditions</span>\t\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tform = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>Sign in</h2>\r\n\t\t\t\t\t<span className=\"under-headline\">Save all your favorite experiences!</span>\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t<label for=\"signinUsername\">Username</label>\r\n\t\t\t\t\t\t\t<input id=\"signinUsername\" name=\"username\" placeholder=\"Username\"/>\r\n\t\t\t\t\t\t\t<label for=\"signinPassword\">Password</label>\r\n\t\t\t\t\t\t\t<input id=\"signinPassword\" type=\"password\" name=\"password\" placeholder=\"Password\" />\r\n\t\t\t\t\t\t\t<button className=\"button-submit\" onClick={this.onSignInSubmit.bind(this)}>Sign in</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<span>Not registered yet?{this.genSwitchButton(\"Sign up\")}</span>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"SignIn form-dialog\">\r\n\t\t\t\t{form}\r\n\t\t\t</div>\r\n\t\t);\r\n  }\r\n}\r\n\r\n/*\r\n\r\n\r\n\t\t\t\t<Snackbar \r\n\t\t\t\t\topen={snackbar.open} \r\n\t\t\t\t\tautoHideDuration={6000} \r\n\t\t\t\t\tonClose={this.handleSnackbarClose.bind(this)}\r\n\t\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Alert onClose={this.handleSnackbarClose.bind(this)} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n\t\t\t\t\t\t{snackbar.message}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\r\n*/\r\n\r\nexport default withHooks(SignIn);","import {Snackbar, Alert} from '@mui/material';\r\nimport React from \"react\";\r\n\r\n/* Example use\r\n<MySnackbar \r\n\topen={snackbar.open} \r\n\tonClose={this.handleSnackbarClose.bind(this)} \r\n\tmessage={snackbar.message} \r\n\tseverity={snackbar.severity}\r\n/>\r\n*/\r\n\r\nclass MySnackbar extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Snackbar \r\n\t\t\t\topen={this.props.open} \r\n\t\t\t\tautoHideDuration={this.props.message?.length * 50 + 1000} \r\n\t\t\t\tonClose={this.props.onClose}\r\n\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n\t\t\t\tClickAwayListenerProps={{onClickAway: () => {}}}\r\n\t\t\t>\r\n\t\t\t\t<Alert onClose={this.props.onClose} severity={this.props.severity} sx={{ width: '100%' }}>\r\n\t\t\t\t\t{this.props.message}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MySnackbar;","import React from 'react';\r\n\r\nimport '../common.css';\r\nimport '../User/User.css';\r\nimport './UserMenu.css';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport User from \"../User/User\";\r\n\r\nimport { BiExit } from \"react-icons/bi\";\r\nimport { IoMdSettings } from \"react-icons/io\";\r\nimport { FiEdit } from \"react-icons/fi\";\r\nimport ClickAwayListener from \"@mui/core/ClickAwayListener\";\r\nimport withHooks from '../withHooks';\r\n\r\nclass UserMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEditProfileOpen: false, \r\n      mixedColors: this.props.user.defaultAvatarColor, \r\n      newProfileImg: this.props.user.profileImg\r\n    };\r\n  }\r\n\r\n  handleEditProfile() {\r\n    this.setState({isEditProfileOpen: true});\r\n  }\r\n\r\n  handleEditProfileClose() {\r\n    this.setState({isEditProfileOpen: false, mixedColors: this.props.user.defaultAvatarColor});\r\n  }\r\n\r\n  getValueByName(name) {\r\n    return document.querySelector(\"input[name=\" + name + \"]\")?.value;\r\n  }\r\n\r\n  onEditProfileSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.props.db.getUser(this.props.user.username).password !== this.getValueByName(\"currentPassword\")) {\r\n      this.props.addSnackbar(\"error\", \"Wrong current password.\");\r\n      return;\r\n    }\r\n    let newUser = JSON.parse(JSON.stringify(this.props.db.getUser(this.props.user.username)));\r\n    let attributes = [\"defaultAvatarColor\", \"profileImg\"];\r\n    attributes.forEach( (attr) => {\r\n\t\t\tnewUser[attr] = document.querySelector(\".UserMenu-Dialog input[name=\" + attr + \"]\")?.value;\r\n\t\t});\r\n    let password;\r\n    if ((password = this.getValueByName(\"password\")) !== \"\") {\r\n      if (password === this.getValueByName(\"confirmPassword\")) {\r\n        newUser.password = password;\r\n      }\r\n      else {\r\n        this.props.addSnackbar(\"error\", \"New passwords do not match\");\r\n        return;\r\n      }\r\n    }\r\n    \r\n    this.props.db.updateUser(newUser);\r\n    this.props.addSnackbar(\"success\", \"User data updated.\");\r\n  }\r\n\r\n  onColorChange(e) {\r\n    /*let red = document.querySelector(\".UserMenu-Dialog input[name=red]\")?.value || 0;\r\n    let green = document.querySelector(\".UserMenu-Dialog input[name=green]\")?.value || 0;\r\n    let blue = document.querySelector(\".UserMenu-Dialog input[name=blue]\")?.value || 0;\r\n    this.setState({mixedColors: `rgb(${red},${green},${blue})`});*/\r\n    this.setState({mixedColors: e.target.value});\r\n  }\r\n\r\n  onProfileImgChange(e) {\r\n    this.setState({newProfileImg: e.target.value});\r\n  }\r\n\r\n  render() {\r\n    let props = this.props;\r\n    let user = this.props.user;\r\n    return (\r\n      <ClickAwayListener onClickAway={props.handleClickAway}>\r\n        <div>\r\n          <div className=\"UserMenu\">\r\n            <div className=\"UserMenu-flex\">\r\n              <User user={user} isWithUserCard={false} />\r\n              <hr/>\r\n              <button onClick={this.handleEditProfile.bind(this)}>Edit profile <FiEdit/></button>\r\n              <button onClick={props.handleSettings}>Settings <IoMdSettings/></button>\r\n              <button onClick={props.handleSignOut} className=\"button-logout\">Sign out <BiExit/></button>\r\n            </div>\r\n          </div>\r\n          <Dialog\r\n                open={this.state.isEditProfileOpen}\r\n                onClose={this.handleEditProfileClose.bind(this)}\r\n                scroll={'paper'}\r\n                aria-labelledby=\"scroll-dialog-title\"\r\n                aria-describedby=\"scroll-dialog-description\"\r\n                maxWidth=\"md\"\r\n                className=\"UserMenu-Dialog\"\r\n          >\r\n            <div className=\"form-dialog\">\r\n              <h2>Edit Profile</h2>\r\n              <form>\r\n                <div className=\"flex\">\r\n                  <label for=\"editUsername\">Username</label>\r\n                  <input name=\"username\" id=\"editUsername\" placeholder=\"Username\" value={user.username} disabled/>\r\n                  <label for=\"editEmail\">Email</label>\r\n                  <input name=\"email\" id=\"editEmail\" placeholder=\"Email\" value={user.email} disabled/>\r\n                  <label for=\"editCurrentPassword\">Current Password</label>\r\n                  <input type=\"password\" id=\"editCurrentPassword\" name=\"currentPassword\" placeholder=\"Current password\" />\r\n                  <label for=\"editPassword\">Password</label>\r\n                  <input type=\"password\" id=\"editPassword\" name=\"password\" placeholder=\"Password\" />\r\n                  <label for=\"editConfirmPassword\">Confirm password</label>\r\n                  <input type=\"password\" id=\"editConfirmPassword\" name=\"confirmPassword\" placeholder=\"Confirm password\" />\r\n                  <div>\r\n                    <span>Avatar color: </span>\r\n                    <label className=\"not-hidden\">\r\n                      <input type=\"color\" name=\"defaultAvatarColor\" value={this.state.mixedColors} onChange={this.onColorChange.bind(this)}/>\r\n                      <span className=\"defaultAvatarPreview UserAvatar\" style={{backgroundColor: this.state.mixedColors}}>{user.username.charAt(0).toUpperCase()}</span>\r\n                    </label>\r\n                  </div>\r\n                  <span className=\"input-wrapper\">\r\n                    <label for=\"editProfileImg\">Profile image</label>\r\n                    <input id=\"editProfileImg\" name=\"profileImg\" placeholder=\"Profile image\" value={this.state.newProfileImg} onClick={(e) => e.target.select()} onChange={this.onProfileImgChange.bind(this)}/>\r\n                    <img src={this.state.newProfileImg} alt=\"\" className=\"UserAvatar\"/>\r\n                  </span>\r\n                  <button className=\"button-submit\" onClick={this.onEditProfileSubmit.bind(this)}>Save changes</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </Dialog>\r\n        </div>\r\n      </ClickAwayListener>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport default withHooks(UserMenu);\r\n\r\n/*\r\n<input type=\"number\" className=\"input-avatar-color\" name=\"red\" min=\"0\" max=\"255\" placeholder=\"R\" onChange={this.onColorChange.bind(this)}/>\r\n                    <input type=\"number\" className=\"input-avatar-color\" name=\"green\" min=\"0\" max=\"255\" placeholder=\"G\" onChange={this.onColorChange.bind(this)}/>\r\n                    <input type=\"number\" className=\"input-avatar-color\" name=\"blue\" min=\"0\" max=\"255\" placeholder=\"B\" onChange={this.onColorChange.bind(this)}/>\r\n*/","import React from \"react\";\r\nimport '../common.css';\r\nimport './Nav.css';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport SignIn from '../SignIn/SignIn';\r\nimport MySnackbar from \"../MySnackbar\";\r\nimport {Brand} from \"../App\";\r\nimport {NavLink, Routes, Route} from 'react-router-dom';\r\nimport { UserAvatar } from \"../User/User\";\r\nimport UserMenu from '../UserMenu/UserMenu';\r\n\r\nimport { FaMapMarkedAlt, FaPlane } from \"react-icons/fa\";\r\nimport { AiFillHome } from \"react-icons/ai\";\r\nimport withHooks from \"../withHooks\";\r\n\r\n\r\nfunction NavButton(props) {\r\n  return (\r\n    <button \r\n      className=\"Nav-button\"\r\n    >\r\n      {props.picture} <span>{props.text}</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction SignInButton(props) {\r\n  return (\r\n    <button className=\"Nav-button Nav-signIn-button\" onClick={props.onClick}>Sign In</button>\r\n  );\r\n}\r\n\r\n\r\n/** top navigation bar */\r\nclass Nav extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isSignedIn: false,\r\n      isSignInOpen: false,\r\n      isUserMenuOpen: false,\r\n      snackbar: {open: false, severity: \"info\", message: \"\"}\r\n    };\r\n  }\r\n\r\n  generateMenuButton(name, picture) {\r\n    return (\r\n      <li>\r\n        <NavLink to={(name !== \"Home\" ? name.toLowerCase() : \"/\")} activeClassName=\"Nav-button-selected\">\r\n          <NavButton \r\n            text={name}\r\n            picture={picture}\r\n          />\r\n        </NavLink>\r\n      </li>\r\n    );\r\n  }\r\n\r\n  generateSignInButton() {\r\n    return (\r\n      <li>\r\n        <SignInButton onClick={(e) => {if (!this.state.isSignInOpen) this.setState({isSignInOpen: true})}}/>\r\n      </li>\r\n    );\r\n  }\r\n\r\n  handleSignInClose() {\r\n    this.setState({isSignInOpen: false});\r\n  }\r\n\r\n\thandleSnackbarClose() {\r\n\t\tthis.setState({snackbar: {open: false, severity: this.state.snackbar.severity}});\r\n\t}\r\n\r\n  openSettings() {\r\n\r\n  }\r\n\r\n  handleSignOut() {\r\n    this.props.db.logoutUser();\r\n    this.setState({\r\n      isUserMenuOpen: false\r\n    });\r\n    this.props.addSnackbar(\"success\", \"Bye!\");\r\n  }\r\n\r\n  handleEditProfile() {\r\n\r\n  }\r\n\r\n  render() {\r\n    let user = this.props.db.getCurrentUser();\r\n    let userPanel;\r\n    let userMenu = \r\n      <UserMenu\r\n        open={this.state.isUserMenuOpen}\r\n        user={user}\r\n        db={this.props.db}\r\n        handleEditProfile={this.handleEditProfile.bind(this)}\r\n        handleSignOut={this.handleSignOut.bind(this)} \r\n        handleSettings={this.openSettings.bind(this)}\r\n        handleClickAway={(e) => {this.setState({isUserMenuOpen: false})}}\r\n      />;\r\n    let loggedIn = user.username !== \"Guest\";\r\n    if (!loggedIn) { //Guest\r\n      userPanel = (\r\n        <li className=\"Nav-user\">\r\n          <div className=\"wrapper\">\r\n            <UserAvatar user={user} />\r\n            <span className=\"Nav-username\">{user.username}</span>\r\n          </div>\r\n        </li>\r\n      );\r\n    }\r\n    else { //Registered user\r\n      userPanel = (\r\n        <li className=\"Nav-user\">\r\n          <div className=\"wrapper\">\r\n            <button onClick={(e) => { this.setState({isUserMenuOpen: true}) }}>\r\n              <UserAvatar user={user} db={this.props.db}/>\r\n              <span className=\"Nav-username\">{user.username}</span>\r\n            </button>\r\n          </div>\r\n          {this.state.isUserMenuOpen ? userMenu : \"\"}\r\n          {/*console.log(this.state.isUserMenuOpen)*/}\r\n        </li>\r\n      );\r\n    }\r\n    return (\r\n      <nav>\r\n        <Routes>\r\n          <Route path=\"/\" />\r\n          <Route path=\"/*\" element={<Brand/>}/>\r\n        </Routes>\r\n        <ul>\r\n          {this.generateMenuButton(\"Home\", <AiFillHome/>)}\r\n          {/*this.generateMenuButton(\"Destinations\",  <FaPlane/>)*/}\r\n          {this.generateMenuButton(\"Experiences\", <FaMapMarkedAlt/>)}\r\n          {!loggedIn ? this.generateSignInButton() : \"\"}\r\n          {userPanel}\r\n        </ul>\r\n        <Dialog\r\n\t\t\t\t\topen={this.state.isSignInOpen}\r\n\t\t\t\t\tonClose={this.handleSignInClose.bind(this)}\r\n\t\t\t\t\tscroll={'body'}\r\n\t\t\t\t\taria-labelledby=\"scroll-dialog-title\"\r\n\t\t\t\t\taria-describedby=\"scroll-dialog-description\"\r\n\t\t\t\t\tmaxWidth=\"md\"\r\n\t\t\t\t\tclassName=\"Nav-Dialog\"\r\n\t\t\t\t>\r\n          <SignIn db={this.props.db} setNavState={this.setState.bind(this)}/>\r\n\t\t\t\t</Dialog>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withHooks(Nav);","import React from \"react\";\r\nimport '../common.css';\r\nimport './NewExperience.css';\r\nimport withHooks from \"../withHooks\";\r\nimport restrictAccess from \"../decorators/restrictAccess\";\r\nimport DB from '../DB';\r\n\r\n/** unused function, can be used to save images in Base64 format but is very inefficient and because localStorage is limited in capacity to only 5MB, only around 3 high-quality images could be stored, now using links to online hosted images instead */\r\nconst fileToDataUri = (file) => new Promise((resolve, reject) => {\r\n\tconst reader = new FileReader();\r\n\treader.onload = (event) => {\r\n\t\tresolve(event.target.result)\r\n\t};\r\n\treader.readAsDataURL(file);\r\n})\r\n\r\nexport function Tags(props) {\r\n\tlet tags = DB.tags;\r\n\tlet tagPills = tags.map( (tag) => {\r\n\t\treturn <PillCheckbox value={tag} />\r\n\t});\r\n\treturn (\r\n\t\t<div>{tagPills}</div>\r\n\t);\r\n}\r\n\r\nfunction PillCheckbox(props) {\r\n\treturn (\t\r\n\t\t<label className=\"PillCheckbox no-selection\">\r\n\t\t\t<input type=\"checkbox\" name=\"tags\" value={props.value}/>\r\n\t\t\t<span>{props.value}</span>\r\n\t\t</label>\r\n\t);\r\n}\r\n\r\nclass NewExperience extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {mainImg: \"\"};\r\n\t\tthis.db = props.db;\r\n\t}\r\n\r\n\tonFileChange = (file) => {\r\n\t\tif(!file) {\r\n\t\t\t\tthis.setState({dataUri: ''});\r\n\t\treturn;\r\n\t\t}\r\n\t\tfileToDataUri(file)\r\n\t\t.then(dataUri => {\r\n\t\t\tthis.setState({dataUri: dataUri});\r\n\t\t})\r\n\t}\r\n\t\r\n\tonMainImgChange(src) {\r\n\t\tthis.setState({mainImg: src});\r\n\t}\r\n\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tlet username;\r\n\t\tif ((username = this.db.getCurrentUser().username) === \"Guest\") {\r\n\t\t\tthis.props.addSnackbar(\"info\", \"You have to sign in to add experiences.\")\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet names = [\"name\", \"img\", \"country\", \"city\", \"description\", \"documentation\", \"transportation\", \"accomodation\"];\r\n\t\tlet exp = {};\r\n\t\tnames.forEach( (n) => {\r\n\t\t\texp[n] = document.querySelector(\"input[name=\" + n + \"],textarea[name=\" + n + \"]\")?.value;\r\n\t\t});\r\n\t\t//exp.img = this.state.dataUri;\r\n\t\texp.username = username;\r\n\t\texp.tags = [];\r\n\t\tdocument.querySelectorAll(\".PillCheckbox input:checked\").forEach( (input) => {\r\n\t\t\texp.tags.push(input.value);\r\n\t\t});\r\n\r\n\t\texp.budget = {};\r\n\t\texp.budget.from = document.querySelector(\"input[name=budgetFrom]\")?.value;\r\n\t\texp.budget.to = document.querySelector(\"input[name=budgetTo]\")?.value;\r\n\t\texp.budget.notes = document.querySelector(\"textarea[name=budgetNotes]\")?.value;\r\n\r\n\t\tthis.db.addExp(exp);\r\n\t\tthis.props.addSnackbar(\"success\", \"Experience added successfully\");\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"NewExperience\">\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<h2>Add Experience</h2>\r\n\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<img src={this.state.mainImg} alt=\"\"></img>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<label for=\"newExpImg\">Main image</label>\r\n\t\t\t\t\t\t<input type=\"text\" id=\"newExpImg\" name=\"img\" placeholder=\"Main image\" onChange={(e) => this.onMainImgChange(e.target.value)}></input>\r\n\t\t\t\t\t\t<label for=\"newExpName\">Name</label>\r\n\t\t\t\t\t\t<input type=\"text\" id=\"newExpName\" name=\"name\" placeholder=\"Name\"></input>\r\n\t\t\t\t\t\t<label for=\"newExpCountry\">Country</label>\r\n\t\t\t\t\t\t<input type=\"text\" id=\"newExpCountry\" name=\"country\" placeholder=\"Country\"></input>\r\n\t\t\t\t\t\t<label for=\"newExpCity\">City</label>\r\n\t\t\t\t\t\t<input type=\"text\" id=\"newExpCity\" name=\"city\" placeholder=\"City\"></input>\r\n\t\t\t\t\t\t<label for=\"newExpDescription\">Description</label>\r\n\t\t\t\t\t\t<textarea type=\"text\" id=\"newExpDescription\" name=\"description\" placeholder=\"Description\"></textarea>\r\n\t\t\t\t\t\t<label for=\"newExpDocumentation\">Documentation</label>\r\n\t\t\t\t\t\t<textarea id=\"newExpDocumentation\" name=\"documentation\" placeholder=\"Documentation\"></textarea>\r\n\r\n\t\t\t\t\t\t<div className=\"newExpBudget\">\r\n\t\t\t\t\t\t\t<span>Budget</span>\r\n\t\t\t\t\t\t\t<label for=\"newExpBudgetFrom\">Budget From</label>\r\n\t\t\t\t\t\t\t<input type=\"number\" id=\"newExpBudgetFrom\" name=\"budgetFrom\" placeholder=\"From\"></input>\r\n\t\t\t\t\t\t\t<label for=\"newExpBudgetTo\">Budget To</label>\r\n\t\t\t\t\t\t\t<input type=\"number\" id=\"newExpBudgetTo\" name=\"budgetTo\" placeholder=\"To\"></input>\r\n\t\t\t\t\t\t\t<label for=\"newExpBudgetNotes\">Budget notes</label>\r\n\t\t\t\t\t\t\t<textarea type=\"text\" id=\"newExpBudgetNotes\" name=\"budgetNotes\" placeholder=\"Notes\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<label for=\"newExpTrasportation\">Transportation</label>\r\n\t\t\t\t\t\t<textarea id=\"newExpTrasportation\" name=\"transportation\" placeholder=\"Trasnportation\"></textarea>\r\n\t\t\t\t\t\t<label for=\"newExpAccomodation\">Accomodation</label>\r\n\t\t\t\t\t\t<textarea id=\"newExpAccomodation\" name=\"accomodation\" placeholder=\"Accomodation\"></textarea>\r\n\t\t\t\t\t\t<label for=\"newExpUsefulLinks\">Useful links</label>\r\n\t\t\t\t\t\t<textarea id=\"newExpUsefulLinks\" name=\"usefulLinks\" placeholder=\"Useful links\"></textarea>\r\n\t\t\t\t\t\t<Tags/>\r\n\t\t\t\t\t\t<button className=\"button-primary\" onClick={e => this.onSubmit(e)}>Add experience</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withHooks(NewExperience);\r\n\r\n/*\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"newExpImg\">\r\n\t\t\t\t\t\t\t<img src={this.state.dataUri} alt=\"Upload picture\"></img>\t\r\n\t\t\t\t\t\t</label>\t\t\r\n\t\t\t\t\t\t<input type=\"file\" id=\"newExpImg\" name=\"img\" onChange={(e) => this.onFileChange(e.target.files[0])}></input>\r\n*/","import {useState, useEffect} from 'react';\r\nimport {AiFillCaretDown, AiFillCaretUp} from 'react-icons/ai';\r\nimport {Tags} from '../NewExperience/NewExperience';\r\nimport useNotificationProvider from '../NotificationProvider/useNotificationProvider';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\n\r\nimport '../common.css';\r\nimport './Search.css';\r\nimport { snackbarClasses } from '@mui/material';\r\n\r\nfunction getInputValueByName(wrapperName, name) {\r\n    return document.querySelector(wrapperName + \" input[name=\" + name + \"]\").value;\r\n}\r\n\r\nfunction setInputValueByName(wrapperName, name, value) {\r\n    document.querySelector(wrapperName + \" input[name=\" + name + \"]\").value = value;\r\n}\r\n\r\nfunction AdvancedOptions(props) {\r\n    const {addSnackbar} = useNotificationProvider();\r\n    const [searchParams] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n        let filter = {};\r\n        let searchObject;\r\n        \r\n        if (searchParams.get(\"searchObject\") !== null) {\r\n            searchObject = JSON.parse(searchParams.get(\"searchObject\"));\r\n            searchObject.tags = JSON.parse(searchObject.tags);\r\n            filter = searchObject;\r\n        }\r\n        filter.tags?.forEach( (tag) => {\r\n            document.querySelector(`.AdvancedOptions .PillCeckbox input[name=${tag}]`).checked = true;\r\n        });\r\n        setInputValueByName(\".AdvancedOptions\", \"name\", filter.name || \"\");\r\n        setInputValueByName(\".AdvancedOptions\", \"location\", filter.location || \"\");\r\n        setInputValueByName(\".AdvancedOptions\", \"author\", filter.author || \"\");\r\n    }, []);\r\n\r\n    /** create a filter object on submit and send this via the URL to the searchResults page */\r\n    let handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let wrapperName = \".AdvancedOptions\";\r\n        let searchObject = {};\r\n        searchObject.name = getInputValueByName(wrapperName, \"name\");\r\n        searchObject.location = getInputValueByName(wrapperName, \"location\");\r\n        searchObject.author = getInputValueByName(wrapperName, \"author\");\r\n        searchObject.tags = \"\";\r\n        let tags = []\r\n\t\tdocument.querySelectorAll(\".AdvancedOptions .PillCheckbox input:checked\").forEach( (input) => {\r\n\t\t\ttags.push(input.value);\r\n\t\t});\r\n        searchObject.tags = JSON.stringify(tags);\r\n        navigate('/searchResults?searchObject=' + JSON.stringify(searchObject));\r\n    };\r\n    \r\n    return (\r\n        <div className=\"AdvancedOptions\">\r\n            <form className=\"form-dialog\" onSubmit={handleSubmit} action=\"searchResult\">\r\n                <div className=\"flex\">\r\n                    <input type=\"text\" name=\"name\" placeholder=\"Name\"/>\r\n                    <input type=\"text\" name=\"location\" placeholder=\"Location\"/>\r\n                    <input type=\"text\" name=\"author\" placeholder=\"Author\"/>\r\n                    <Tags/>\r\n                    <button type=\"submit\" className=\"button-submit\">Search</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function Search(props) {\r\n    let [advanced, setAdvanced] = useState(false);\r\n    let [searchParams] = useSearchParams();\r\n    let navigate = useNavigate();\r\n    let handleChange = (e) => {\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        let filter = {};\r\n        let keyword;\r\n        if ((keyword = searchParams.get(\"keyword\")) !== null)\r\n            filter = {keyword: keyword};\r\n        setInputValueByName(\".Search\", \"keyword\", filter.keyword || \"\");\r\n    }, []);\r\n\r\n    /** sets the keyword GET parameter and navigates to sthe searchResults page */\r\n    let handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let keyword = e.target.querySelector(\"input[name=keyword]\").value;\r\n        navigate(\"/searchResults?keyword=\" + keyword);\r\n    };\r\n\r\n    return (\r\n        <div className=\"Search input-with-send\">\r\n            <form onSubmit={handleSubmit} label=\"\">\r\n                <label for=\"main-search\" style={{display: \"none\"}}>Main search</label>\r\n                <input id=\"main-search\" type=\"text\" name=\"keyword\" placeholder=\"author, name, location,...\" className=\"main-search\" onKeyPress={handleChange} onChange={handleChange}/>\r\n                <button type=\"button\" onClick={e => setAdvanced(!advanced)}>\r\n                    {advanced ? <AiFillCaretUp /> : <AiFillCaretDown />}\r\n                    <span style={{display: \"none\"}}>Extend/hide advanced options</span>\r\n                </button>\r\n            </form>\r\n            {advanced && <AdvancedOptions/>}\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/athens.dfe3c0de.jpg\";","import React from \"react\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport '../common.css';\r\nimport \"./Home.css\";\r\nimport Search from \"../Search/Search\";\r\nimport {Tile} from \"../Tile/Tile\";\r\nimport Athens from \"../img/content/athens.jpg\";\r\nimport Madrid from \"../img/content/madrid.jpg\";\r\nimport Vienna from \"../img/content/vienna.jpg\";\r\nimport London from \"../img/content/london.jpg\";\r\n\r\nclass Home extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<main className=\"Home\">\r\n\t\t\t\t<h2>Find your perfect trip</h2>\r\n\t\t\t\t<Search />\r\n\t\t\t\t<div className=\"main-Grid-wrapper\">\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={8}>\r\n\t\t\t\t\t\t\t<Tile img={Athens} h2=\"Greece\" h1=\"Athens\"/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={4}>\r\n\t\t\t\t\t\t\t<Tile img={Madrid} h2=\"Spain\" h1=\"Madrid\"/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={4}>\r\n\t\t\t\t\t\t\t<Tile img={Vienna} h2=\"Austria\" h1=\"Vienna\"/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={8}>\r\n\t\t\t\t\t\t\t<Tile img={London} h2=\"England\" h1=\"London\"/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;","import NewExperience from '../NewExperience/NewExperience';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport restrictAccess from '../decorators/restrictAccess';\r\nimport { useState } from 'react';\r\n\r\nimport useNotificationProvider from '../NotificationProvider/useNotificationProvider';\r\n\r\nexport default function DialogButton(props) {\r\n    const [state, setState] = useState({isNewExpOpen: false});\r\n    \r\n    const {addSnackbar} = useNotificationProvider();\r\n\r\n    const handlePopupClose = () => { //generic method for closing popups\r\n\t\tsetState({isNewExpOpen: false});\r\n\t}\r\n\r\n    return (\r\n        <div>\r\n            <button\r\n                className=\"button-primary\"\r\n                onClick={(e) => {\r\n                    restrictAccess(props.db, addSnackbar, (e) => setState({isNewExpOpen: true}));\r\n                }}\r\n            >\r\n                {props.text}\r\n            </button>\r\n            <Dialog //dialog object for showing the NewExperience form on add experience button click\r\n\t\t\t\t\topen={state.isNewExpOpen}\r\n\t\t\t\t\tonClose={handlePopupClose.bind(this)}\r\n\t\t\t\t\tscroll={'paper'}\r\n\t\t\t\t\taria-labelledby=\"scroll-dialog-title\"\r\n\t\t\t\t\taria-describedby=\"scroll-dialog-description\"\r\n\t\t\t\t\tmaxWidth=\"lg\"\r\n\t\t\t\t\tclassName=\"Tile-dialog\"\r\n\t\t\t>\r\n                {props.children}\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}","export default function restrictAccess(db, addSnackbar, callback) {\r\n    if (db.getCurrentUser().username === \"Guest\") {\r\n        addSnackbar(\"error\", \"You have to sign in to use that feature.\")\r\n    }\r\n    else {\r\n        callback();\r\n    }\r\n}","import React from \"react\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport User from \"../User/User\";\r\nimport ExpTile, {checkExpAndFill} from \"../Tile/Tile\";\r\nimport '../common.css';\r\nimport \"../Home/Home.css\";\r\nimport \"./Experiences.css\";\r\nimport {AiFillHeart} from 'react-icons/all'\r\nimport withHooks from '../withHooks';\r\nimport Search from '../Search/Search';\r\nimport DialogButton from \"../DialogButton/DialogButton\";\r\nimport NewExperience from '../NewExperience/NewExperience';\r\n\r\n/*\r\nThis is the experiences menu page, at /experiences\r\n*/\r\n\r\n/**\r\n * User row in the table for UserRanking\r\n */\r\nfunction UserRow(props) {\r\n\treturn (\r\n\t\t<tr className=\"UserRow\" key={props.user.username}>\r\n\t\t\t<td><User user={props.user}/></td>\r\n\t\t\t<td>{props.user.numberLikes}<AiFillHeart className=\"AiFillHeart\"/></td>\r\n\t\t</tr>\r\n\t);\r\n}\r\n\r\n/**\r\n * User ranking table, ranks users based on the accumulated number of likes among their experiences\r\n*/\r\nfunction UserRanking(props) {\r\n\tlet users = props.topUsers.map( (user) => {\r\n\t\treturn <UserRow user={user}/>\r\n\t});\r\n\treturn (\r\n\t\t<table className=\"UserRanking\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr className=\"UserRow\">\r\n\t\t\t\t\t<th>Username</th>\r\n\t\t\t\t\t<th>Likes</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{users}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n}\r\n/**\r\n * Experiences class for showing 4 best rated experiences and the UserRanking\r\n */\r\nclass Experiences extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.db = props.db;\r\n\t\tthis.state = {isNewExpOpen: false};\r\n\t}\r\n\r\n\tcomponentDidMount() { //updates itself, for the UserRanking to update\r\n\t\tthis.interval = setInterval(() => this.setState({}), 0.2 * 60 * 1000);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.interval);\r\n\t}\r\n\r\n\thandlePopupClose() { //generic method for closing popups\r\n\t\tthis.setState({isNewExpOpen: false});\r\n\t}\r\n\r\n  \trender() {\r\n\t\tlet topExp = [];\r\n\t\ttopExp = this.db.getTopExp(4); //gete 4 top experiences from the database to show in the grid\r\n\t\treturn (\r\n\t\t\t<main className=\"Experiences\">\r\n\t\t\t\t<h2>Experiences</h2>\r\n\t\t\t\t<Search />\r\n\t\t\t\t<div className=\"main-flex\">\r\n\t\t\t\t\t<div className=\"main-Grid-wrapper main-column-grid\">\r\n\t\t\t\t\t\t<Grid container spacing={2} className=\"main-Grid-container\">\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={7}>\r\n\t\t\t\t\t\t\t\t<ExpTile exp={checkExpAndFill(topExp.length >= 1 ? topExp[0] : {})} db={this.db} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={5}>\r\n\t\t\t\t\t\t\t\t<ExpTile exp={checkExpAndFill(topExp.length >= 2 ? topExp[1] : {})} db={this.db} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={8}>\r\n\t\t\t\t\t\t\t\t<ExpTile exp={checkExpAndFill(topExp.length >= 3 ? topExp[2] : {})} db={this.db} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={4}>\r\n\t\t\t\t\t\t\t\t<ExpTile exp={checkExpAndFill(topExp.length >= 4 ? topExp[3] : {})} db={this.db} />\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"main-column-users\">\r\n\t\t\t\t\t\t<aside>\r\n\t\t\t\t\t\t\t<DialogButton db={this.db} text=\"Add experience\">\r\n\t\t\t\t\t\t\t\t<NewExperience db={this.db}/>\r\n\t\t\t\t\t\t\t</DialogButton>\r\n\t\t\t\t\t\t\t<UserRanking topUsers={this.db.getTopUsers(10)}/>\r\n\t\t\t\t\t\t</aside>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withHooks(Experiences);","import React from 'react';\r\nimport '../common.css';\r\nimport './UserProfile.css';\r\n\r\nimport Grid from \"@mui/material/Grid\";\r\nimport ExpTile, {checkExpAndFill} from \"../Tile/Tile\";\r\nimport { useParams } from 'react-router';\r\nimport { UserAvatar } from '../User/User';\r\nimport { Tabs, Tab } from '@mui/material';\r\nimport withHooks from '../withHooks';\r\nimport DialogButton from '../DialogButton/DialogButton';\r\nimport NewExperience from '../NewExperience/NewExperience';\r\nimport NewCollection from '../NewCollection/NewCollection';\r\nimport { CollectionTile } from '../Tile/Tile';\r\n//import {withRouter} from '../App';\r\n\r\nexport const withRouter = WrappedComponent => props => {\r\n  const params = useParams();\r\n  return (\r\n    <WrappedComponent\r\n      {...props}\r\n      params={params}\r\n    />\r\n  );\r\n};\r\n\r\nclass UserProfile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {user: this.props.db.getCurrentUser(), tabValue: \"experiences\"};\r\n  }\r\n\r\n  handleTabChange(e, newValue) {\r\n    this.setState({tabValue: newValue});\r\n  }\r\n\r\n  render() {\r\n    let params = this.props.params;\r\n    let viewedUser = this.props.db.getUser(params.username);\r\n    let content;\r\n    if (this.state.tabValue === \"experiences\") {\r\n      let topUserExp = this.props.db.getTopExpByUser(params.username, 4);\r\n      content = (\r\n        <div>\r\n          {viewedUser.username === this.props.db.getCurrentUser().username && \r\n            <DialogButton db={this.props.db} text=\"Add experience\">\r\n              <NewExperience db={this.props.db}/>\r\n            </DialogButton>\r\n          }\r\n          <Grid container spacing={2} className=\"main-Grid-container\">\r\n            <Grid item xs={12} md={7}>\r\n              <ExpTile exp={checkExpAndFill(topUserExp.length >= 1 ? topUserExp[0] : {})} db={this.props.db} />\r\n            </Grid>\r\n            <Grid item xs={12} md={5}>\r\n              <ExpTile exp={checkExpAndFill(topUserExp.length >= 2 ? topUserExp[1] : {})} db={this.props.db} />\r\n            </Grid>\r\n            <Grid item xs={12} md={8}>\r\n              <ExpTile exp={checkExpAndFill(topUserExp.length >= 3 ? topUserExp[2] : {})} db={this.props.db} />\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n              <ExpTile exp={checkExpAndFill(topUserExp.length >= 4 ? topUserExp[3] : {})} db={this.props.db} />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      );\r\n    }\r\n    else {\r\n      let userCollections = this.props.db.getCollectionsByUser(params.username, -1);\r\n      console.log({userCollections});\r\n      content = (\r\n        <div>\r\n          { viewedUser.username === this.props.db.getCurrentUser().username && \r\n            <DialogButton db={this.props.db} text=\"Add collection\">\r\n              <NewCollection db={this.props.db}/>\r\n            </DialogButton>\r\n          }\r\n          <Grid container spacing={2} className=\"main-Grid-container\">\r\n            <Grid item xs={12} md={7}>\r\n              <CollectionTile collection={userCollections.length > 0 && userCollections[0]} db={this.props.db} />\r\n            </Grid>\r\n            <Grid item xs={12} md={5}>\r\n              <CollectionTile collection={userCollections.length > 1 && userCollections[1]} db={this.props.db} />\r\n            </Grid>\r\n            <Grid item xs={12} md={8}>\r\n              <CollectionTile collection={userCollections.length > 2 && userCollections[2]} db={this.props.db} />\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n              <CollectionTile collection={userCollections.length > 3 && userCollections[3]} db={this.props.db} />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n\t\t<main className=\"UserProfile\">\r\n\t\t\t<h2><UserAvatar user={viewedUser} />{params.username+\"'s profile\"}</h2>\r\n      <Tabs\r\n        value={this.state.tabValue}\r\n        onChange={this.handleTabChange.bind(this)}\r\n        TabIndicatorProps={{style: {backgroundColor: \"var(--color-primary)\"}}}\r\n        textColor=\"inherit\"\r\n        style={{color: \"var(--color-primary)\"}}\r\n        aria-label=\"experiences and collection tabs\"\r\n        classes={{root: \"Tabs\"}}\r\n      >\r\n        <Tab value=\"experiences\" label=\"Experiences\" />\r\n        <Tab value=\"collections\" label=\"Collections\" />\r\n      </Tabs>\r\n\t\t\t<div className=\"main-Grid-wrapper\">\r\n        {content}\r\n      </div>\r\n\t\t</main>\r\n\t);\r\n  }\r\n}\r\n\r\nexport default withHooks(withRouter(UserProfile));","import React from \"react\";\r\nimport '../common.css';\r\nimport './NewCollection.css';\r\nimport '../NewExperience/NewExperience';\r\nimport withHooks from \"../withHooks\";\r\n\r\nclass NewCollection extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {mainImg: \"\"};\r\n\t\tthis.db = props.db;\r\n\t}\r\n\t\r\n\tonMainImgChange(src) {\r\n\t\tthis.setState({mainImg: src});\r\n\t}\r\n\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tlet username;\r\n\t\tif ((username = this.db.getCurrentUser().username) === \"Guest\") {\r\n\t\t\tthis.props.addSnackbar(\"info\", \"You have to sign in to add experiences.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet names = [\"name\", \"img\", \"description\"];\r\n\t\tlet collection = {};\r\n\t\tnames.forEach( (n) => {\r\n\t\t\tcollection[n] = document.querySelector(\"input[name=\" + n + \"],textarea[name=\" + n + \"]\")?.value;\r\n\t\t});\r\n\t\tcollection.username = username;\r\n\r\n\t\tthis.db.addCollection(collection);\r\n\t\tthis.props.addSnackbar(\"success\", \"Experience added successfully\");\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"NewExperience NewCollection\">\r\n\t\t\t\t<form onSubmit={e => this.onSubmit(e)}>\r\n\t\t\t\t\t<h2>Add Collection</h2>\r\n\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<img src={this.state.mainImg} alt=\"\"></img>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<label for=\"newCollectionImg\">Main image</label>\r\n\t\t\t\t\t\t<input type=\"text\" id=\"newCollectionImg\" name=\"img\" placeholder=\"Main image\" onChange={(e) => this.onMainImgChange(e.target.value)}></input>\r\n\t\t\t\t\t\t<label for=\"newCollectionName\">Name</label>\r\n\t\t\t\t\t\t<input type=\"text\" id=\"newCollectionName\" name=\"name\" placeholder=\"Name\"></input>\r\n\t\t\t\t\t\t<label for=\"newCollectionDescription\">Description</label>\r\n\t\t\t\t\t\t<textarea type=\"text\" id=\"newCollectionDescription\" name=\"description\" placeholder=\"Description\"></textarea>\r\n\t\t\t\t\t\t<button className=\"button-primary\">Add collection</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withHooks(NewCollection);\r\n\r\n/*\r\n\r\n\t\t\t\t\t\t<label htmlFor=\"newExpImg\">\r\n\t\t\t\t\t\t\t<img src={this.state.dataUri} alt=\"Upload picture\"></img>\t\r\n\t\t\t\t\t\t</label>\t\t\r\n\t\t\t\t\t\t<input type=\"file\" id=\"newExpImg\" name=\"img\" onChange={(e) => this.onFileChange(e.target.files[0])}></input>\r\n*/","import \"../common.css\";\r\nimport \"./Footer.css\";\r\n\r\nimport {Logo} from '../App';\r\nimport { BsFacebook, BsInstagram, BsTwitter } from \"react-icons/bs\";\r\n\r\nfunction shuffleArray(array) {\r\n    for (var i = array.length - 1; i > 0; i--) {\r\n        var j = Math.floor(Math.random() * (i + 1));\r\n        var temp = array[i];\r\n        array[i] = array[j];\r\n        array[j] = temp;\r\n    }\r\n    return array;\r\n}\r\n\r\nexport default function Footer(props) {\r\n    let authors = [\"Lukas\", \"Julia\", \"Aniya\", \"Archana\"];\r\n    let liAuthors = shuffleArray(authors).map( (author) => {\r\n        return <li>{author}</li>\r\n    });\r\n    return (\r\n        <footer>\r\n            <div className=\"flex\">\r\n                <div className=\"column-logo\">\r\n                    <Logo />\r\n                </div>\r\n                <div className=\"column-authors\">\r\n                    <ul className=\"ul-links\">\r\n                        {liAuthors}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"column-links\">\r\n                    <ul className=\"ul-links\">\r\n                        <li><a href=\"\">FAQ</a></li>\r\n                        <li><a href=\"\">Terms {\"&\"} conditions</a></li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"column-icons\">\r\n                    <ul className=\"ul-icons\">\r\n                        <li><a href=\"#f\" className=\"icon-facebook\"><BsFacebook /><span style={{display: \"none\"}}>Facebook</span></a></li>\r\n                        <li><a href=\"#i\" className=\"icon-instagram\"><BsInstagram /><span style={{display: \"none\"}}>Instagram</span></a></li>\r\n                        <li><a href=\"#t\" className=\"icon-twitter\"><BsTwitter /><span style={{display: \"none\"}}>Twitter</span></a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n}","import useNotificationProvider from './useNotificationProvider';\r\nimport MySnackbar from '../MySnackbar';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, DialogContentText } from '@mui/material';\r\n\r\nexport default function NotificationInterface() {\r\n  const { snackbar, removeSnackbar } = useNotificationProvider();\r\n\r\n  const handleClose = () => {\r\n    removeSnackbar(snackbar.severity, snackbar.message);\r\n  };\r\n\r\n  return (\r\n    <MySnackbar \r\n        open={snackbar?.open} \r\n        message={snackbar?.message} \r\n        severity={snackbar?.severity} \r\n        onClose={handleClose}\r\n    />\r\n  )\r\n}\r\n\r\nexport function ConfirmationInterface() {\r\n  const {confirmation, removeConfirmation} = useNotificationProvider();\r\n\r\n  const handleClose = () => {\r\n    removeConfirmation();\r\n  }\r\n\r\n  return (\r\n      <Dialog\r\n        open={confirmation?.open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n        className=\"confirmation-dialog\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {confirmation?.question}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Are you sure that you would like to proceed?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <button onClick={handleClose} className=\"button-danger\">Cancel</button>\r\n            <button className=\"button-confirm\" onClick={(e) => {handleClose(); confirmation.onConfirm()}}>Confirm</button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n}","import \"./SearchResults.css\";\r\nimport { useState } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport ExpTile, {checkExpAndFill} from \"../Tile/Tile\";\r\nimport { Grid } from \"@mui/material\";\r\nimport Search from '../Search/Search';\r\n\r\nexport default function SearchResults(props) {\r\n  const [state, setState] = useState({});\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const db = props.db;\r\n\r\n  let keyword;\r\n  let resultExps = [];\r\n\r\n  if ((keyword = searchParams.get(\"keyword\")) !== null) { //simple search\r\n    resultExps = db.getFilteredExps({keyword: keyword});\r\n  }\r\n  else { //advanced search\r\n    let searchObject = JSON.parse(searchParams.get(\"searchObject\"));\r\n    searchObject.tags = JSON.parse(searchObject.tags);\r\n    resultExps = db.getFilteredExps(searchObject);\r\n  }\r\n\r\n  //this part sets a random width of the resulting experiences in a grid and creates the result grid itself\r\n  let first = 0;\r\n  let counter = -1;\r\n  let md;\r\n  let gridTiles = resultExps.map((exp) => {\r\n    counter++;\r\n    if (counter % 2 === 0) {\r\n      md = first = Math.round((Math.random()*4))+4;\r\n    }\r\n    else {\r\n      md = 12 - first;\r\n    }\r\n    return (\r\n      <Grid item xs={12} md={md}>\r\n        <ExpTile exp={checkExpAndFill(exp)} db={db}/>\r\n      </Grid>\r\n    )\r\n  });\r\n  \r\n  return (\r\n    <main className=\"SearchResults\">\r\n      <h2>Search results</h2>\r\n      <Search />\r\n      <div className=\"main-flex\">\r\n        <Grid container spacing={2} className=\"main-Grid-container\">\r\n          {gridTiles}\r\n        </Grid>\r\n      </div>\r\n    </main>\r\n  );\r\n}","import './common.css';\r\nimport './App.css';\r\nimport DB from './DB';\r\nimport logo from './img/logo.png';\r\nimport Nav from './Nav/Nav';\r\nimport React from 'react';\r\nimport Home from './Home/Home';\r\nimport Experiences from './Experiences/Experiences';\r\nimport {Routes , Route} from 'react-router-dom';\r\nimport UserProfile from './UserProfile/UserProfile';\r\nimport Footer from './Footer/Footer';\r\nimport NotificationInterface, { ConfirmationInterface } from './NotificationProvider/NotificationInterface';\r\nimport NotificationProvider from './NotificationProvider/NotificationProvider';\r\nimport SearchResults from './SearchResults/SearchResults';\r\n\r\nexport function Logo(props) {\r\n  return (\r\n    <img src={logo} alt=\"logo\" className=\"Logo\"></img>\r\n  );\r\n}\r\n\r\nexport function Brand(props) {\r\n  return (\r\n    <span className=\"Brand\">\r\n      <Logo/>\r\n      <h1>Travelify</h1>\r\n    </span>\r\n  );\r\n}\r\n\r\nexport function Header() {\r\n  return (\r\n    <header>\r\n      <div className=\"header-flex\">\r\n        <div className=\"header-column-logo\">\r\n          <Brand/>          \r\n        </div>\r\n        <div className=\"header-column-phrase\">\r\n          <span className=\"phrase\">\"Discover your next adventure on Travelify\"</span>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction setDbBeforeUnload(db) {\r\n  window.onbeforeunload = (e) => {\r\n    db.saveIntoLocalStorage();\r\n  };\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.db = new DB(this.setCurrentUser.bind(this))\r\n    this.state = {user: this.db.getCurrentUser(), isDatabaseLoaded: false};\r\n  }\r\n\r\n  setCurrentUser(newUser) {\r\n    this.setState({user: newUser});\r\n    console.log(\"User changed to \" + newUser.username);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.db.loadFromLocalStorage();\r\n    this.setState({isDatabaseLoaded: true});\r\n    setDbBeforeUnload(this.db);\r\n }\r\n\r\n  render() {\r\n    let pageContent;\r\n    return (\r\n      <NotificationProvider>\r\n        <div className=\"App\">\r\n          <Routes>\r\n            <Route path=\"/\" element={<Header/>}/>\r\n          </Routes>\r\n          <Nav db={this.db}/>\r\n          <Routes >\r\n            <Route path=\"/destinations\" element={<span>Destinations</span>}/>\r\n            <Route path=\"/experiences\" element={<Experiences db={this.db}/>}/>\r\n            <Route path=\"/searchResults\" element={<SearchResults db={this.db}/>} />\r\n            <Route path=\"/userProfile/:username\" element={<UserProfile db={this.db}/>}/>      \r\n            <Route path=\"/\" element={<Home/>} />\r\n          </Routes >\r\n          {pageContent}\r\n          <Footer />\r\n        </div>\r\n        <NotificationInterface />\r\n        <ConfirmationInterface />\r\n      </NotificationProvider>\r\n    );\r\n  };\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {HashRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter basename=\"/\">\r\n      <App />\r\n    </HashRouter>\r\n    \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}